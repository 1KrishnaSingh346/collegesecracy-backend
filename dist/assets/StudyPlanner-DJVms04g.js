import{a as Z,r as n,j as e,F as _,b as ee,d as P,e as M,f as re,g as te,h as ae,i as w,k as L,l as S,m as E,n as se}from"./index-os3KaEe5.js";const $=(b,i)=>{try{localStorage.setItem(b,JSON.stringify(i))}catch(x){console.error("Failed to save to localStorage:",x)}},B=b=>{try{const i=localStorage.getItem(b);return i?JSON.parse(i):[]}catch(i){return console.error("Failed to load from localStorage:",i),[]}},T=["Success is the sum of small efforts, repeated daily. — Robert Collier","The secret to getting ahead is getting started. — Mark Twain","Don’t watch the clock; do what it does. Keep going. — Sam Levenson","Believe you can and you’re halfway there. — Theodore Roosevelt","The expert in anything was once a beginner. — Helen Hayes","Your limitation—it’s only your imagination.","Dream big. Start small. Act now.","The harder you work, the luckier you get."],de=()=>{const b=Z(),[i,x]=n.useState([]),[u,y]=n.useState([]),[o,m]=n.useState({title:"",subject:"",date:"",startTime:"",endTime:"",topics:"",priority:"medium",status:"planned",notes:"",bookmarked:!1}),[t,d]=n.useState(null),[s,k]=n.useState(!1),[f,C]=n.useState("planner"),[p,I]=n.useState(""),[c,j]=n.useState({priority:"all",status:"all",bookmarked:!1}),[F,H]=n.useState(!1),[A,oe]=n.useState(()=>{const r=localStorage.getItem("darkMode");return r!==null?JSON.parse(r):window.matchMedia("(prefers-color-scheme: dark)").matches}),[O,Q]=n.useState(T[0]);n.useEffect(()=>{const r=B("studySessions"),a=B("completedSessions");Array.isArray(r)&&x(r),Array.isArray(a)&&y(a);const l=T[Math.floor(Math.random()*T.length)];Q(l)},[]),n.useEffect(()=>{$("studySessions",i)},[i]),n.useEffect(()=>{$("completedSessions",u)},[u]),n.useEffect(()=>{A?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[A]);const D=(r,a)=>{if(!r||!a)return"N/A";const l=new Date(`2000-01-01T${r}`),g=new Date(`2000-01-01T${a}`)-l,W=Math.floor(g/(1e3*60*60)),X=Math.floor(g%(1e3*60*60)/(1e3*60));return`${W}h ${X}m`},N=r=>{if(!r)return"N/A";const a=new Date(r);return isNaN(a.getTime())?"Invalid Date":a.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},R=r=>{if(!r)return"N/A";const a=new Date,h=new Date(r)-a,g=Math.ceil(h/(1e3*60*60*24));return g>0?`${g} days`:g===0?"Today":"Past due"},U=()=>{if(!o.title||!o.date)return;const r={...o,id:Date.now(),createdAt:new Date().toISOString(),duration:D(o.startTime,o.endTime)};x(a=>[r,...a]),K()},J=()=>{if(!t)return;const r=i.map(a=>a.id===t.id?{...t,duration:D(t.startTime,t.endTime)}:a);x(r),d(null),k(!1)},q=r=>{const a=i.find(g=>g.id===r);if(!a)return;const l=i.filter(g=>g.id!==r);x(l);const h={...a,status:"completed",completionDate:new Date().toISOString()};y(g=>[h,...g]),d(null)},z=r=>{const a=i.map(l=>l.id===r?{...l,bookmarked:!l.bookmarked}:l);x(a),(t==null?void 0:t.id)===r&&d(l=>({...l,bookmarked:!l.bookmarked}))},K=()=>{m({title:"",subject:"",date:"",startTime:"",endTime:"",topics:"",priority:"medium",status:"planned",notes:"",bookmarked:!1})},Y=()=>{window.confirm("Are you sure? This will delete ALL your sessions.")&&(localStorage.removeItem("studySessions"),localStorage.removeItem("completedSessions"),x([]),y([]))},v=i.filter(r=>{const a=r.title.toLowerCase().includes(p.toLowerCase())||r.subject.toLowerCase().includes(p.toLowerCase())||r.topics.toLowerCase().includes(p.toLowerCase()),l=c.priority==="all"||r.priority===c.priority,h=c.status==="all"||r.status===c.status,g=!c.bookmarked||r.bookmarked;return a&&l&&h&&g}),G={high:"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200",medium:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200",low:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200"},V={high:"border-red-200 dark:border-red-800",medium:"border-yellow-200 dark:border-yellow-800",low:"border-green-200 dark:border-green-800"};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300",children:[e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center",children:[e.jsxs("button",{onClick:()=>b(-1),className:"flex items-center gap-2 text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 transition-colors",children:[e.jsx(_,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Study Planner"}),e.jsx("p",{className:"text-xs text-center",children:"Powered by CollegeSecracy"})]})]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl p-4 mb-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{className:"w-6 h-6 text-yellow-300"}),e.jsx("p",{className:"italic",children:O})]})}),e.jsxs("div",{className:"flex mb-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:()=>C("planner"),className:`px-4 py-2 font-medium ${f==="planner"?"border-b-2 border-green-500 text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:"Planner"}),e.jsx("button",{onClick:()=>C("history"),className:`px-4 py-2 font-medium ${f==="history"?"border-b-2 border-green-500 text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:"History"})]}),f==="planner"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2 text-green-700 dark:text-green-400",children:[s?e.jsx(P,{className:"w-5 h-5"}):e.jsx(M,{className:"w-5 h-5"}),e.jsx("span",{children:s?"Edit Session":"Add New Session"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title*"}),e.jsx("input",{type:"text",name:"title",value:s?(t==null?void 0:t.title)||"":o.title,onChange:s?r=>d({...t,title:r.target.value}):r=>m({...o,title:r.target.value}),className:"w-full p-2.5 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., Calculus Chapter 3",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subject"}),e.jsx("input",{type:"text",name:"subject",value:s?(t==null?void 0:t.subject)||"":o.subject,onChange:s?r=>d({...t,subject:r.target.value}):r=>m({...o,subject:r.target.value}),className:"w-full p-2.5 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., Mathematics"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date*"}),e.jsx("input",{type:"date",name:"date",value:s?(t==null?void 0:t.date)||"":o.date,onChange:s?r=>d({...t,date:r.target.value}):r=>m({...o,date:r.target.value}),className:"w-full p-2.5 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Time"}),e.jsx("input",{type:"time",name:"startTime",value:s?(t==null?void 0:t.startTime)||"":o.startTime,onChange:s?r=>d({...t,startTime:r.target.value}):r=>m({...o,startTime:r.target.value}),className:"w-full p-2.5 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Time"}),e.jsx("input",{type:"time",name:"endTime",value:s?(t==null?void 0:t.endTime)||"":o.endTime,onChange:s?r=>d({...t,endTime:r.target.value}):r=>m({...o,endTime:r.target.value}),className:"w-full p-2.5 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Topics"}),e.jsx("textarea",{name:"topics",value:s?(t==null?void 0:t.topics)||"":o.topics,onChange:s?r=>d({...t,topics:r.target.value}):r=>m({...o,topics:r.target.value}),className:"w-full p-2.5 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Separate topics with commas",rows:"2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),e.jsxs("select",{name:"priority",value:s?(t==null?void 0:t.priority)||"medium":o.priority,onChange:s?r=>d({...t,priority:r.target.value}):r=>m({...o,priority:r.target.value}),className:"w-full p-2.5 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),e.jsxs("select",{name:"status",value:s?(t==null?void 0:t.status)||"planned":o.status,onChange:s?r=>d({...t,status:r.target.value}):r=>m({...o,status:r.target.value}),className:"w-full p-2.5 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"planned",children:"Planned"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"postponed",children:"Postponed"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),e.jsx("textarea",{name:"notes",value:s?(t==null?void 0:t.notes)||"":o.notes,onChange:s?r=>d({...t,notes:r.target.value}):r=>m({...o,notes:r.target.value}),className:"w-full p-2.5 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Additional notes...",rows:"2"})]}),s&&e.jsxs("div",{className:"md:col-span-2 flex items-center",children:[e.jsx("input",{type:"checkbox",id:"bookmarked",name:"bookmarked",checked:(t==null?void 0:t.bookmarked)||!1,onChange:()=>d(r=>({...r,bookmarked:!r.bookmarked})),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"bookmarked",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Bookmark this session"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[s&&e.jsx("button",{onClick:()=>{k(!1),d(null)},className:"px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:s?J:U,className:"px-6 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 flex items-center gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:"Update"})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Session"})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(re,{className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search sessions...",value:p,onChange:r=>I(r.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),e.jsxs("button",{onClick:()=>H(!F),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[e.jsx(te,{className:"text-gray-600 dark:text-gray-300"}),e.jsx("span",{className:"text-sm font-medium",children:"Filters"})]})]}),F&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),e.jsxs("select",{value:c.priority,onChange:r=>j({...c,priority:r.target.value}),className:"w-full p-2 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm",children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),e.jsxs("select",{value:c.status,onChange:r=>j({...c,status:r.target.value}),className:"w-full p-2 rounded-lg bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"planned",children:"Planned"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"postponed",children:"Postponed"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"bookmarked-filter",checked:c.bookmarked,onChange:r=>j({...c,bookmarked:r.target.checked}),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"bookmarked-filter",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Bookmarked only"})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2 text-green-700 dark:text-green-400",children:[e.jsx(ae,{className:"w-5 h-5"}),e.jsxs("span",{children:["Upcoming Sessions (",v.length,")"]})]})}),v.length===0?e.jsx("div",{className:"text-center py-8 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:p||c.priority!=="all"||c.status!=="all"||c.bookmarked?"No matching sessions found. Adjust your filters.":"No study sessions planned yet. Add your first session!"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(r=>e.jsxs("div",{className:`p-5 rounded-xl border ${V[r.priority]} shadow-sm hover:shadow-md transition-all cursor-pointer ${r.bookmarked?"ring-1 ring-green-500":""}`,onClick:()=>{d(r),k(!0)},children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-lg",children:r.title}),r.bookmarked&&e.jsx(w,{className:"text-green-500 w-4 h-4"})]}),r.subject&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:r.subject}),e.jsxs("div",{className:"mt-3 space-y-1.5 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(L,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),e.jsxs("span",{children:[N(r.date)," • ",R(r.date)]})]}),r.startTime&&r.endTime&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(S,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),e.jsxs("span",{children:[r.startTime," - ",r.endTime," • ",r.duration]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:a=>{a.stopPropagation(),z(r.id)},className:`p-1.5 rounded-full ${r.bookmarked?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:r.bookmarked?"Remove bookmark":"Bookmark",children:e.jsx(w,{className:`w-4 h-4 ${r.bookmarked?"fill-current":""}`})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),q(r.id)},className:"p-1.5 bg-green-600 hover:bg-green-700 rounded-full text-white",title:"Mark Complete",children:e.jsx(E,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G[r.priority]}`,children:[r.priority," priority"]}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:r.status})]}),r.topics&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Topics:"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2",children:r.topics})]})]},r.id))})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2 text-green-700 dark:text-green-400",children:[e.jsx(S,{className:"w-5 h-5"}),e.jsxs("span",{children:["Completed Sessions (",u.length,")"]})]}),u.length>0&&e.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white flex items-center gap-2 transition-colors text-sm",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{children:"Clear All"})]})]}),u.length===0?e.jsx("div",{className:"text-center py-8 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No completed sessions yet. Complete a session to see it here."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(r=>e.jsxs("div",{className:"p-5 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[e.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[r.title,r.bookmarked&&e.jsx(w,{className:"text-green-500 w-4 h-4"})]}),r.subject&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:r.subject}),e.jsxs("div",{className:"mt-3 space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(FiFlag,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),e.jsxs("span",{children:["Priority: ",e.jsx("span",{className:"capitalize",children:r.priority})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),e.jsxs("span",{children:["Scheduled: ",N(r.date)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-green-500 dark:text-green-400"}),e.jsxs("span",{children:["Completed: ",N(r.completionDate)]})]}),r.startTime&&r.endTime&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),e.jsxs("span",{children:["Duration: ",r.duration]})]}),r.topics&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-500 dark:text-gray-400",children:"Topics covered:"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.topics})]}),r.notes&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-500 dark:text-gray-400",children:"Notes:"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.notes})]})]})]},r.id))})]})]})]})};export{de as default};
