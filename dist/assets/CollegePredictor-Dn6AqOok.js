import{r as a,j as e}from"./index-os3KaEe5.js";import{c as Te,d as Pe,s as De}from"./tools-DB3C7dJV.js";import{PDFDownloadLink as Le}from"./react-pdf.browser-CGvlFbzg.js";import{F as M,C as Me,a as I,b as v,c as E,d as Oe,E as me,e as Ie,f as He,g as Be,h as Je,i as Ge,j as We,k as qe,l as _e,m as Ue}from"./EmptyStateIllustration-DC-W54DS.js";import{F as ze,a as O}from"./ArrowPathIcon-TuKQuvNA.js";import{F as Qe}from"./AcademicCapIcon-CwAJk_lc.js";function Ye({title:u,titleId:d,...p},h){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:h,"aria-labelledby":d},p),u?a.createElement("title",{id:d},u):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const ge=a.forwardRef(Ye),Ve=({message:u,isError:d,onClose:p})=>(a.useEffect(()=>{const h=setTimeout(()=>{p()},2500);return()=>clearTimeout(h)},[p]),e.jsx("div",{className:`fixed md:top-4 top-3 right-3 md:right-4 z-50 transform transition-all duration-300 ${u?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:e.jsxs("div",{className:`md:p-4 p-1 rounded-lg md:text-base text-sm shadow-lg ${d?"bg-red-500":"bg-green-500"} text-white flex items-center justify-between min-w-[300px] max-w-[90vw]`,children:[e.jsx("div",{children:e.jsx("p",{className:"font-medium",children:u})}),e.jsx("button",{onClick:p,className:"ml-4",children:e.jsx(I,{className:"h-5 w-5"})})]})})),rt=()=>{const u="college-predictor",[d,p]=a.useState(""),[h,U]=a.useState("OPEN"),[$,z]=a.useState("HS"),[k,Q]=a.useState("Gender-Neutral"),[b,F]=a.useState(1),[i,H]=a.useState("CSAB"),[B,he]=a.useState([]),[y,Y]=a.useState([]),[c,A]=a.useState([]),[ue,V]=a.useState([]),[C,T]=a.useState(!1),[K,J]=a.useState([]),[P,Z]=a.useState(""),[X,ee]=a.useState(!1),[te,se]=a.useState(!0),[j,G]=a.useState(""),[w,W]=a.useState(""),[D,S]=a.useState(1),[re,q]=a.useState(!1),[s,ae]=a.useState(!0),[pe,le]=a.useState(!1),[ne,be]=a.useState({message:"",isError:!1}),[oe,ye]=a.useState(!1),_=a.useRef(null),f=5;a.useEffect(()=>{const t=localStorage.getItem("darkMode");if(t!==null)ae(JSON.parse(t));else{const r=window.matchMedia("(prefers-color-scheme: dark)").matches;ae(r)}},[]);const o=(t,r=!1)=>{be({message:t,isError:r}),le(!0)},fe=()=>{le(!1)};a.useEffect(()=>{(async()=>{try{se(!0);const r=await Je(i,b);he(r),Y([]),A([]),q(!1),r.data.length===0?o(`No data available for ${i} round ${b}`,!0):localStorage.getItem("role")==="admin"&&o("College data loaded successfully")}catch(r){o(r.message,!0),console.error("Data loading error:",r)}finally{se(!1)}})()},[i,b]),a.useEffect(()=>{(()=>{if(c.length===0){V([]);return}const r=D*f,l=r-f;V(C?c:c.slice(l,r))})()},[c,D,C]);const ie=()=>{G(""),W(""),S(1),T(!1),A(y),o(`Showing all ${y.length} colleges`)},N=()=>{if(!y.length)return;let t=[...y];j&&(t=t.filter(r=>r.name.toLowerCase().includes(j.toLowerCase()))),w&&(t=t.filter(r=>r.branch.toLowerCase().includes(w.toLowerCase()))),A(t),S(1),T(!1),t.length===0?o("No colleges match your filters. Try different search terms.",!0):o(`Found ${t.length} colleges matching your filters`)},je=a.useCallback(async()=>{window.confirm("Are you sure you want to clear all prediction history?")&&(await Te(u)?(J([]),o("History cleared successfully")):o("Failed to clear history",!0))},[o]),we=a.useCallback(async t=>{window.confirm("Delete this prediction from history?")&&(await Pe(u,t)?(J(l=>{const x=[...l];return x.splice(t,1),x}),o("Prediction removed from history")):o("Failed to delete prediction",!0))},[o]),Ne=t=>{p(t.rank),U(t.seatType),Q(t.gender),z(t.quota),F(t.round||1),H(t.counsellingType||"CSAB"),o("Prediction criteria loaded"),_.current.scrollIntoView({behavior:"smooth"})},ve=t=>{S(t),window.scrollTo({top:600,behavior:"smooth"})},$e=()=>{if(q(!0),!d){o("Please enter your rank",!0);return}const t=Number(d);if(isNaN(t)){o("Please enter a valid rank number",!0);return}try{let r=B.data.filter(n=>n["Seat Type"]===h&&n.Quota===$&&n.Gender===k&&t>=n["Opening Rank"]&&t<=n["Closing Rank"]).map(n=>({name:n.Institute,branch:n["Academic Program Name"],quota:n.Quota,seatType:n["Seat Type"],gender:n.Gender,openingRank:n["Opening Rank"],closingRank:n["Closing Rank"],round:n.Round,chance:ke(t,n["Opening Rank"],n["Closing Rank"])})).sort((n,m)=>n.openingRank-m.openingRank);Y(r),A(r),S(1),T(!1),G(""),W("");const l={rank:d,seatType:h,gender:k,quota:$,round:b,counsellingType:i,predictedCount:r.length,timestamp:new Date().toISOString()};De(u,l,!0)&&J(n=>n.find(g=>g.rank===l.rank&&g.seatType===l.seatType&&g.gender===l.gender&&g.quota===l.quota)?n:[l,...n].slice(0,5)),r.length===0?o("No colleges found for your rank and criteria. Try adjusting your filters.",!0):o(`Found ${r.length} colleges matching your criteria`)}catch(r){o("Error processing college data. Please try again.",!0),console.error("Prediction error:",r)}},ke=(t,r,l)=>{const x=(t-r)/(l-r);return x<.3?"High (>95%)":x<.7?"Medium (70-90%)":"Low (<70%)"},Ce=()=>{const t=c.map(r=>`${r.name} - ${r.branch} (${r.chance})`).join(`
`);navigator.clipboard.writeText(`College Predictions for Rank ${d}:
${t}`),o("Results copied to clipboard")},Se=async t=>{if(t.preventDefault(),!P){o("Please enter email",!0);return}ee(!0),o("Generating and sending report...");try{const r=await Ue({colleges:c,rank:d,seatType:h,gender:k,quota:$,round:b,counsellingType:i}),l=new FormData;l.append("pdf",new Blob([r],{type:"application/pdf"}),`${i}-predictions-${d}.pdf`),l.append("email",P),l.append("rank",d),l.append("seatType",h),l.append("category",h),l.append("name",localStorage.getItem("username")||""),l.append("counsellingType",i),l.append("round",b);const x="https://collegesecracy-backend.onrender.com",n=!1,m=n?`${x}/api/v1/email/send-test-email`:`${x}/api/v1/email/send-with-pdf`,g=await fetch(m,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:n?JSON.stringify({email:P}):l});if(!g.ok){const R=await g.text();throw new Error(R||`HTTP error! status: ${g.status}`)}const L=await g.json();n||o(L.previewUrl?`Email sent! Preview available at ${L.previewUrl}`:"Email sent successfully! Check your inbox"),Z("")}catch(r){console.error("Email sending error:",r),o(Re(r),!0)}finally{ee(!1)}};function Re(t){return t.message.includes("Failed to fetch")?"Network error - please check your connection":t.message.includes("Network Error")?"Cannot connect to server - check your internet":t.message.includes("401")?"Session expired - please login again":t.message||"Failed to send email"}const de=()=>{T(!C),S(1)},ce=()=>{ye(!oe)},Ee=({currentPage:t,totalPages:r,onPageChange:l,darkMode:x})=>{const n=()=>{if(r<=5)return Array.from({length:r},(L,R)=>R+1);let m=Math.max(1,t-2),g=Math.min(r,m+4);return g-m<4&&(m=Math.max(1,g-4)),Array.from({length:g-m+1},(L,R)=>m+R)};return e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("button",{onClick:()=>l(1),disabled:t===1,className:`p-1 md:p-2 rounded-md ${t===1?"opacity-50 cursor-not-allowed":x?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,"aria-label":"First page",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>l(t-1),disabled:t===1,className:`p-1 md:p-2 rounded-md ${t===1?"opacity-50 cursor-not-allowed":x?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,"aria-label":"Previous page",children:e.jsx(We,{className:"h-4 w-4"})}),n().map(m=>e.jsx("button",{onClick:()=>l(m),className:`md:px-3 px-2 py-1 rounded-md w-[30px] md:min-w-[40px] ${t===m?"bg-orange-600 text-white":x?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:m},m)),e.jsx("button",{onClick:()=>l(t+1),disabled:t===r,className:`p-1 md:p-2 rounded-md ${t===r?"opacity-50 cursor-not-allowed":x?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,"aria-label":"Next page",children:e.jsx(qe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>l(r),disabled:t===r,className:`p-1 md:p-2 rounded-md ${t===r?"opacity-50 cursor-not-allowed":x?"hover:bg-gray-600 text-gray-300":"hover:bg-gray-200 text-gray-700"}`,"aria-label":"Last page",children:e.jsx(_e,{className:"h-4 w-4"})})]})},Fe=re&&y.length>0,Ae=re&&y.length===0,xe=c.length===0&&y.length>0;return Math.ceil(c.length/f),e.jsxs("div",{className:`min-h-screen ${s?"bg-gray-900 text-gray-100":"bg-gray-50 text-gray-900"}`,children:[pe&&e.jsx(Ve,{message:ne.message,isError:ne.isError,onClose:fe}),e.jsx("header",{className:`sticky top-0 z-40 ${s?"bg-gray-800":"bg-white"} shadow-md`,children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3 sm:gap-4",children:e.jsxs("button",{onClick:()=>window.history.back(),className:`flex items-center gap-1 p-1.5 sm:p-2 rounded-md ${s?"text-blue-400 hover:bg-gray-700 hover:text-blue-300":"text-blue-600 hover:bg-gray-100 hover:text-blue-700"} transition-colors`,children:[e.jsx(ze,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Back"})]})}),e.jsx("div",{className:"flex-1 flex justify-center px-2",children:e.jsxs("h1",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-orange-500 via-blue-500 to-purple-500 bg-clip-text text-transparent whitespace-nowrap",children:[i," College Predictor"]})})]})})}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:`mb-8 p-6 rounded-xl ${s?"bg-gradient-to-r from-gray-800 to-gray-700":"bg-gradient-to-r from-blue-50 to-purple-50"} shadow-lg`,children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl md:text-3xl font-bold mb-4 bg-gradient-to-r from-orange-500 to-blue-500 bg-clip-text text-transparent",children:"Find Your Perfect Engineering College"}),e.jsxs("p",{className:`mb-4 text-sm md:text-base ${s?"text-gray-300":"text-gray-700"}`,children:["Predict which colleges you can get based on your JEE Main rank in ",i,". Our algorithm analyzes previous year cutoff data to give you accurate predictions."]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s?"bg-gray-700 text-blue-300":"bg-blue-100 text-blue-800"}`,children:[e.jsx(M,{className:"h-4 w-4 inline mr-1"}),"Updated with 2024 Cutoffs"]}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s?"bg-gray-700 text-orange-300":"bg-orange-100 text-orange-800"}`,children:[e.jsx(Qe,{className:"h-4 w-4 inline mr-1"}),"500+ Colleges"]}),e.jsxs("button",{onClick:ce,className:`px-3 py-1 rounded-full text-xs font-medium ${s?"bg-gray-700 text-purple-300":"bg-purple-100 text-purple-800"}`,children:[e.jsx(M,{className:"h-4 w-4 inline mr-1"}),"How It Works"]})]})]}),e.jsx("div",{className:"hidden md:block flex-1",children:e.jsx("img",{src:Me,alt:"College illustration",className:"w-full h-auto max-w-md mx-auto"})})]})}),oe&&e.jsxs("div",{className:`mb-8 p-6 rounded-xl shadow-lg ${s?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h3",{className:"text-base md:text-xl font-bold flex items-center gap-2",children:[e.jsx(M,{className:"h-6 w-6 text-blue-500"}),"About ",i," College Predictor"]}),e.jsx("button",{onClick:ce,className:`p-1 rounded-full ${s?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:e.jsx(I,{className:"md:h-5 md:w-5 h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2 md:text-lg text-sm",children:"Data Sources"}),e.jsx("p",{className:`mb-3 md:text-base text-sm ${s?"text-gray-300":"text-gray-600"}`,children:"Our predictions are based on official data from:"}),e.jsxs("ul",{className:`space-y-2 md:text-base text-sm ${s?"text-gray-400":"text-gray-700"}`,children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("a",{href:"https://csab.nic.in",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-blue-500",children:"CSAB Official Website"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("a",{href:"https://josaa.nic.in",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-blue-500",children:"JoSAA Official Website"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("a",{href:"https://jeemain.nta.nic.in",target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-blue-500",children:"JEE Main NTA Portal"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2 md:text-lg text-sm",children:"How It Works"}),e.jsxs("ol",{className:`space-y-3 md:text-base text-sm ${s?"text-gray-300":"text-gray-600"}`,children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:`font-bold ${s?"text-orange-400":"text-orange-600"}`,children:"1."}),"Enter your JEE Main rank and seat type"]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:`font-bold ${s?"text-orange-400":"text-orange-600"}`,children:"2."}),"Select your preferred quota, gender and round"]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:`font-bold ${s?"text-orange-400":"text-orange-600"}`,children:"3."}),"Get personalized college predictions for ",i]})]})]})]}),e.jsx("div",{className:`mt-6 md:p-4 p-2 md:text-base text-sm rounded-lg ${s?"bg-yellow-900/30 border-yellow-700":"bg-yellow-100 border-yellow-300"} border`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ge,{className:`h-5 w-5 flex-shrink-0 ${s?"text-yellow-400":"text-yellow-600"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-bold mb-1 ${s?"text-yellow-300":"text-yellow-800"}`,children:"Important Notice"}),e.jsxs("p",{className:`md:text-sm text-xs ${s?"text-yellow-200":"text-yellow-700"}`,children:["These predictions are based on previous year's ",i," cutoff trends and may vary. Actual cutoffs depend on various factors including number of applicants, seat availability, and reservation policies. Use this as a reference only."]})]})]})})]}),e.jsx("div",{className:`mb-6 rounded-lg overflow-hidden ${s?"bg-gray-800":"bg-gray-200"}`,children:e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>{H("CSAB"),F(1)},className:`flex-1 py-3 px-4 md:text-base text-sm font-medium text-center transition-colors ${i==="CSAB"?s?"bg-blue-600 text-white":"bg-blue-500 text-white":s?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-300 text-gray-700"}`,children:"CSAB Predictor"}),e.jsx("button",{onClick:()=>{H("JoSAA"),F(1)},className:`flex-1 py-3 md:text-base text-sm px-4 font-medium text-center transition-colors ${i==="JoSAA"?s?"bg-purple-600 text-white":"bg-purple-500 text-white":s?"hover:bg-gray-700 text-gray-300":"hover:bg-gray-300 text-gray-700"}`,children:"JoSAA Predictor"})]})}),e.jsxs("div",{className:`p-4 sm:p-6 rounded-xl shadow-lg ${s?"bg-gray-800":"bg-white"} mb-8`,ref:_,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"md:text-xl text-lg font-bold bg-gradient-to-r from-orange-500 to-blue-500 bg-clip-text text-transparent",children:"Enter Your Details"}),te&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(O,{className:"md:h-4 md:w-4 h-2 w-2 animate-spin"}),"Loading data..."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:text-base text-xs",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${s?"text-gray-400":"text-gray-600"}`,children:"Your Rank"}),e.jsx("input",{type:"number",value:d,onChange:t=>p(t.target.value),className:`w-full rounded-lg px-4 py-3 focus:ring-2 focus:ring-orange-500 border ${s?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-300 text-gray-900"}`,placeholder:i==="CSAB"?"Enter your JEE Main CRL Rank":"Enter your JEE Main rank"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${s?"text-gray-400":"text-gray-600"}`,children:"Seat Type"}),e.jsxs("select",{value:h,onChange:t=>U(t.target.value),className:`w-full rounded-lg px-4 py-3 focus:ring-2 focus:ring-orange-500 border ${s?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:"OPEN",children:"OPEN"}),e.jsx("option",{value:"OBC-NCL",children:"OBC-NCL"}),e.jsx("option",{value:"EWS",children:"EWS"}),e.jsx("option",{value:"SC",children:"SC"}),e.jsx("option",{value:"ST",children:"ST"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${s?"text-gray-400":"text-gray-600"}`,children:"Gender"}),e.jsxs("select",{value:k,onChange:t=>Q(t.target.value),className:`w-full rounded-lg px-4 py-3 focus:ring-2 focus:ring-orange-500 border ${s?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:"Gender-Neutral",children:"Gender-Neutral"}),e.jsx("option",{value:"Female-only (including Supernumerary)",children:"Female-only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${s?"text-gray-400":"text-gray-600"}`,children:"Quota"}),e.jsxs("select",{value:$,onChange:t=>z(t.target.value),className:`w-full rounded-lg px-4 py-3 focus:ring-2 focus:ring-orange-500 border ${s?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:"HS",children:"Home State (HS)"}),e.jsx("option",{value:"OS",children:"Other State (OS)"}),e.jsx("option",{value:"AI",children:"All India (AI)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 ${s?"text-gray-400":"text-gray-600"}`,children:"Round"}),e.jsxs("select",{value:b,onChange:t=>F(Number(t.target.value)),className:`w-full rounded-lg px-4 py-3 focus:ring-2 focus:ring-orange-500 border ${s?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:"1",children:"Round 1"}),e.jsx("option",{value:"2",children:"Round 2"}),i==="JoSAA"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"3",children:"Round 3"}),e.jsx("option",{value:"4",children:"Round 4"}),e.jsx("option",{value:"5",children:"Round 5"})]})]})]})]}),i==="CSAB"&&e.jsx("div",{className:`p-3 rounded-lg ${s?"bg-blue-900/30 border-blue-700":"bg-blue-100 border-blue-300"} border`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(M,{className:`h-5 w-5 flex-shrink-0 ${s?"text-blue-300":"text-blue-600"}`}),e.jsx("p",{className:`md:text-sm text-xs ${s?"text-blue-200":"text-blue-800"}`,children:"CSAB typically has two rounds as compared to JoSAA and it takes your CRL Rank. Make sure to select the appropriate round and enter your CRL Rank for accurate predictions."})]})}),e.jsx("button",{onClick:$e,disabled:!d||B.length===0,className:`w-full bg-gradient-to-r md:text-base text-sm from-orange-600 to-orange-500 text-white font-bold py-3 px-6 rounded-lg transition-all ${!d||B.length===0?"opacity-50 cursor-not-allowed":"hover:from-orange-500 hover:to-orange-400 shadow-md hover:shadow-lg"} flex items-center justify-center gap-2`,children:te?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-5 w-5 animate-spin"}),"Loading Data..."]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"h-5 w-5"}),"Predict Colleges"]})})]})]}),Fe&&e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 justify-between items-center",children:[e.jsxs("h3",{className:`md:text-xl text-base font-bold ${s?"text-blue-400":"text-blue-600"}`,children:["Predicted Colleges (",c.length," of ",y.length,")"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:Ce,className:`py-2 px-4 rounded-lg text-sm font-medium flex items-center gap-2 ${s?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy Results"]}),e.jsx(Le,{document:e.jsx(Oe,{data:{rank:d,seatType:h,gender:k,quota:$,round:b,counsellingType:i,colleges:c}}),fileName:`${i.toLowerCase()}-predictions-${d}.pdf`,className:"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white py-2 px-4 rounded-lg md:text-sm text-xs font-medium flex items-center gap-2 shadow-md hover:shadow-lg",children:({loading:t})=>t?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"md:h-4 md:w-4 h-3 w-3 animate-spin"}),"Preparing PDF..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download PDF"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:j,onChange:t=>G(t.target.value),onKeyPress:t=>t.key==="Enter"&&N(),className:`block w-full pl-10 pr-10 py-2 md:text-base text-sm rounded-lg placeholder-gray-400 focus:ring-2 focus:ring-orange-500 border ${s?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-300 text-gray-900"}`,placeholder:"Search by institute name"}),j?e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:e.jsx("button",{onClick:N,className:`p-1 mr-2 ${s?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:e.jsx(E,{className:"md:h-5 md:w-5 h-3 w-3"})})}):e.jsx("button",{onClick:N,className:`absolute inset-y-0 right-0 p-1 mr-2 ${s?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:e.jsx(E,{className:"md:h-5 md:w-5 h-4 w-4"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:w,onChange:t=>W(t.target.value),onKeyPress:t=>t.key==="Enter"&&N(),className:`block w-full pl-10 pr-10 py-2 md:text-base text-sm rounded-lg placeholder-gray-400 focus:ring-2 focus:ring-orange-500 border ${s?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-300 text-gray-900"}`,placeholder:"Filter by program name"}),w?e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:e.jsx("button",{onClick:N,className:`p-1 mr-2 ${s?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:e.jsx(E,{className:"md:h-5 md:w-5 h-4 w-4"})})}):e.jsx("button",{onClick:N,className:`absolute inset-y-0 right-0 p-1 mr-2 ${s?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:e.jsx(E,{className:"md:h-5 md:w-5 h-4 w-4"})})]}),e.jsxs("button",{onClick:ie,disabled:!j&&!w,className:`py-2 px-4 rounded-lg md:text-base text-sm flex items-center justify-center gap-2 transition-colors ${!j&&!w?"opacity-50 cursor-not-allowed":""} ${s?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,children:[e.jsx(I,{className:"md:h-5 md:w-5 h-4 w-4"}),"Clear Filters"]})]}),e.jsx("div",{className:"space-y-4 md:text-base text-sm",children:xe?e.jsx("div",{className:`p-8 rounded-lg text-center ${s?"bg-gray-700/30":"bg-gray-100"}`,children:e.jsxs("div",{className:`flex flex-col items-center ${s?"text-gray-400":"text-gray-600"}`,children:[e.jsx("img",{src:me,alt:"No results",className:"md:h-56 h-44"}),e.jsx("p",{className:"mt-1",children:"Try different search terms or clear filters"}),e.jsx("button",{onClick:ie,className:"mt-4 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-medium py-2 px-4 rounded-lg transition-colors shadow-md hover:shadow-lg",children:"Clear Filters"})]})}):e.jsxs(e.Fragment,{children:[ue.map((t,r)=>e.jsx("div",{className:`p-4 md:text-base text-sm rounded-lg border-l-4 border-orange-500 hover:shadow-md transition-all ${s?"bg-gray-700/50 hover:bg-gray-700/70":"bg-white hover:bg-gray-50 border-l-4 border-orange-500"}`,children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`font-bold ${s?"text-white":"text-gray-900"}`,children:t.name}),e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:t.branch})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:`px-3 py-1 rounded text-xs font-medium mb-1 ${t.chance.includes("High")?"bg-green-900/30 text-green-300 border border-green-500":t.chance.includes("Medium")?"bg-yellow-900/30 text-yellow-300 border border-yellow-500":"bg-red-900/30 text-red-300 border border-red-500"}`,children:t.chance}),e.jsxs("span",{className:`text-xs ${s?"text-gray-400":"text-gray-500"}`,children:["Round ",t.round]})]})]}),e.jsxs("div",{className:"mt-3  grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:`md:p-3 p-2 rounded-lg border  ${s?"bg-gray-800/50 border-gray-700":"bg-gray-100 border-gray-200"}`,children:[e.jsx("h5",{className:`md:text-sm text-xs font-medium ${s?"text-gray-300":"text-gray-500"} mb-1`,children:"RANK RANGE"}),e.jsxs("p",{className:`md:text-sm text-xs font-medium ${s?"text-white":"text-gray-900"}`,children:[t.openingRank," - ",t.closingRank]})]}),e.jsxs("div",{className:`md:p-3 p-2 rounded-lg border ${s?"bg-gray-800/50 border-gray-700":"bg-gray-100 border-gray-200"}`,children:[e.jsx("h5",{className:`md:text-sm text-xs font-medium ${s?"text-gray-300":"text-gray-500"} mb-1`,children:"QUOTA"}),e.jsx("p",{className:`md:text-sm text-xs font-medium ${s?"text-white":"text-gray-900"}`,children:t.quota==="HS"?"Home State":t.quota==="OS"?"Other State":"All India"})]}),e.jsxs("div",{className:`md;p-3 p-2 rounded-lg border ${s?"bg-gray-800/50 border-gray-700":"bg-gray-100 border-gray-200"}`,children:[e.jsx("h5",{className:`md:text-sm text-xs font-medium ${s?"text-gray-300":"text-gray-500"} mb-1`,children:"SEAT TYPE"}),e.jsx("p",{className:`md:text-sm text-xs font-medium ${s?"text-white":"text-gray-900"}`,children:t.seatType})]})]})]})})},r)),!C&&c.length>f&&e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"text-sm mb-1 text-gray-500 dark:text-gray-400",children:["Page ",D," of ",Math.ceil(c.length/f)]}),e.jsx(Ee,{currentPage:D,totalPages:Math.ceil(c.length/f),onPageChange:ve,darkMode:s}),e.jsxs("button",{onClick:de,className:`flex items-center justify-center py-2 px-4 rounded-lg transition-colors ${s?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:[e.jsx(Ie,{className:"w-5 h-5 mr-1"}),"Show All (",c.length," colleges)"]})]}),C&&c.length>f&&e.jsxs("button",{onClick:de,className:`flex items-center justify-center w-full py-2 rounded-lg transition-colors ${s?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:[e.jsx(He,{className:"w-5 h-5 mr-1"}),"Show Less"]})]})}),!xe&&e.jsxs("form",{onSubmit:Se,className:`md:p-6 p-4 rounded-xl ${s?"bg-gray-800":"bg-white"} shadow-md`,children:[e.jsxs("h4",{className:`flex items-center md:text-lg text-base font-medium mb-4 ${s?"text-gray-300":"text-gray-700"}`,children:[e.jsx(Be,{className:"md:w-6 w-5 h-5 md:h-6 mr-2 text-blue-500"}),"Email Results (PDF + Details)"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:text-base text-sm",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"email",value:P,onChange:t=>Z(t.target.value),placeholder:"your@email.com",className:`w-full rounded-lg md:px-4 px-3 py-2 md:py-3 placeholder-gray-400 focus:ring-2 focus:ring-orange-500 border ${s?"bg-gray-700 border-gray-600 text-white":"bg-gray-50 border-gray-300 text-gray-900"}`,required:!0})}),e.jsx("button",{type:"submit",disabled:X,className:"bg-gradient-to-r md:text-base text-sm from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-medium md:py-3 py-2 px-4 md:px-6 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center min-w-[120px] shadow-md hover:shadow-lg",children:X?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"md:h-5 h-4 w-4 md:w-5 animate-spin mr-2"}),"Sending..."]}):"Send Email"})]}),e.jsx("p",{className:`mt-2 md:text-sm text-xs ${s?"text-gray-400":"text-gray-500"}`,children:"We'll send a detailed PDF report to your email"})]})]}),Ae&&e.jsx("div",{className:`md:mt-6 mt-4 p-6 md:p-8 rounded-xl md:text-base text-sm text-center ${s?"bg-gray-800":"bg-white"} shadow-lg`,children:e.jsxs("div",{className:`flex flex-col items-center ${s?"text-gray-400":"text-gray-600"}`,children:[e.jsx("img",{src:me,alt:"No results",className:"md:h-56 h-44"}),e.jsx("p",{className:"mb-4 md:text-base text-sm",children:"Try adjusting your rank or filters"}),e.jsx("button",{onClick:()=>{p(""),q(!1),_.current.scrollIntoView({behavior:"smooth"})},className:"bg-gradient-to-r md:text-sm text-xs from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-medium py-2 px-6 rounded-lg transition-colors shadow-md hover:shadow-lg",children:"Try Again"})]})}),K.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h4",{className:"md:text-2xl text-xl font-bold bg-gradient-to-r from-purple-500 to-blue-500 bg-clip-text text-transparent",children:"Prediction History"}),e.jsxs("button",{onClick:je,className:`md:px-4 px-1 py-2 md:text-sm text-xs rounded-lg transition-colors flex items-center md:gap-2 gap:2 ${s?"bg-red-500 hover:bg-red-600 text-white":"bg-red-400 hover:bg-red-500 text-white"}`,children:[e.jsx(I,{className:"h-4 w-4"}),"Clear All"]})]}),e.jsx("div",{className:"grid grid-cols-1  md:grid-cols-2 lg:grid-cols-3 gap-4",children:K.map((t,r)=>e.jsxs("div",{className:`relative group md:p-5 p-1 rounded-xl border shadow-lg transition-all ${s?"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-purple-500":"bg-white border-gray-200 hover:border-purple-400"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("span",{className:`font-bold md:text-lg text-sm ${s?"text-purple-300":"text-purple-600"}`,children:["Rank ",t.rank]}),e.jsx("span",{className:`ml-2 px-2 py-1 md:text-sm text-xs rounded-full ${s?"bg-gray-700 text-blue-300":"bg-gray-200 text-blue-600"}`,children:t.seatType}),e.jsxs("div",{className:`mt-2 md:text-sm text-xs ${s?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:`font-bold ${s?"text-orange-400":"text-orange-500"}`,children:t.predictedCount})," colleges predicted"]}),e.jsxs("div",{className:`mt-1 md:text-sm text-xs ${s?"text-gray-400":"text-gray-500"}`,children:[t.counsellingType," - Round ",t.round||1]})]}),e.jsx("div",{className:`md:text-sm text-xs ${s?"text-gray-400":"text-gray-500"}`,children:new Date(t.timestamp).toLocaleString()})]}),e.jsx("button",{onClick:()=>we(r),className:"absolute md:top-2 top-5 right-3 md:right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-md",title:"Delete",children:"×"}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-700 flex justify-end gap-2",children:e.jsx("button",{className:`md:text-sm text-xs px-3 py-1 rounded-lg transition-colors ${s?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>Ne(t),children:"Use Again"})})]},r))})]})]}),e.jsx("footer",{className:`py-8 ${s?"bg-gray-800 text-gray-300":"bg-gray-100 text-gray-600"} mt-12`,children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{className:"mb-6 md:mb-0 text-center md:text-left",children:[e.jsxs("h4",{className:"text-lg font-bold bg-gradient-to-r from-orange-500 to-blue-500 bg-clip-text text-transparent",children:[i," College Predictor"]}),e.jsx("h1",{className:"md:-mt-2 mb-2 md:text-sm text-xs dark:text-white/90 text-black/90",children:"Powered by CollegeSecracy"}),e.jsxs("p",{className:"text-sm",children:["© ",new Date().getFullYear()," All rights reserved. Data sourced from official portals."]})]}),e.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("a",{href:"https://csab.nic.in",target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline flex items-center gap-1",children:[e.jsx(v,{className:"h-4 w-4"}),"CSAB"]}),e.jsxs("a",{href:"https://josaa.nic.in",target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline flex items-center gap-1",children:[e.jsx(v,{className:"h-4 w-4"}),"JoSAA"]}),e.jsxs("a",{href:"https://jeemain.nta.nic.in",target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline flex items-center gap-1",children:[e.jsx(v,{className:"h-4 w-4"}),"JEE Main"]})]}),e.jsxs("div",{className:`text-xs p-2 rounded-lg ${s?"bg-gray-700/50 text-gray-400":"bg-gray-200 text-gray-600"}`,children:[e.jsx(ge,{className:"h-4 w-4 inline mr-1"}),"Disclaimer: Predictions are based on historical data and may vary, Take it as a reference."]})]})]})})})]})};export{rt as default};
